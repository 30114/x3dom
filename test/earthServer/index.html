<!DOCTYPE >
<html>
<head>
	    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
		<title>Earth Demo</title>
		
		<link rel="stylesheet" type="text/css" href="css/x3dom.css" />
		<script type="text/javascript" src="js/x3dom-full.js"></script>
		<link rel="stylesheet" href="css/jquery-ui.css" type="text/css" media="all">
		<script src="js/jquery-1.7.1.min.js" type="text/javascript"></script>
		<script src="js/jquery-ui.min.js" type="text/javascript"></script>
		<script src="js/jquery-ui-i18n.min.js" type="text/javascript"></script>

<script>
	$(document).ready(function() {
		var x_low = 0, x_high = 719;
		var y_low = 0, y_high = 369;
		var z_low = 0, z_high = 30;
		var t_low = 0, t_high = 25;
		$('#boxpoint').attr('point', -(x_high/2)+' '+-(y_high/2)+' '+-(z_high/2)
								  +' '+(x_high/2)+' '+-(y_high/2)+' '+-(z_high/2)
								  +' '+(x_high/2)+' '+(y_high/2)+' '+-(z_high/2)
								  +' '+-(x_high/2)+' '+(y_high/2)+' '+-(z_high/2)
								  +' '+-(x_high/2)+' '+-(y_high/2)+' '+(z_high/2)
								  +' '+(x_high/2)+' '+-(y_high/2)+' '+(z_high/2)
								  +' '+(x_high/2)+' '+(y_high/2)+' '+(z_high/2)
								  +' '+-(x_high/2)+' '+(y_high/2)+' '+(z_high/2));
		$('#rectangle1').attr('size',z_high +' '+ y_high);
		$('#trans1').attr('translation', -(x_high/2)+' 0 0');
		
		$('#rectangle2').attr('size',x_high +' '+ z_high);
		$('#trans2').attr('translation', '0 '+-(y_high/2)+' 0');
		
		$('#rectangle3').attr('size',x_high +' '+ y_high);
		$('#trans3').attr('translation', '0 0 '+ -(z_high/2));

			$(function() { //X
				$( "#slider1" ).slider({
					value: x_low,
					min: x_low,
					max: x_high,
					step: 20,
					slide: function( event, ui ) {
						var x = ui.value - (x_high/2);
						$('#trans1').attr('translation', x +' 0 0');
						$('#texture1').attr('url', 'http://212.201.49.173:8080/earthlook-ras?query=for+tp+in+%28TP%29+return+encode%28+%28char%29%28+%28tp%5B+x%28'+ui.value+'%29%2C+t%28'+$( "#slider4" ).slider( "value" )+'%29+%5D+%2B+40%29*+2.5%29%2C+%22png%22+%29');
						$( "#x" ).text("X " + ui.value );
					}
				});
				$( "#x" ).text("X " + $( "#slider1" ).slider( "value" ) );
			});
			
			$(function() { //Y
				$( "#slider2" ).slider({
					value: y_low,
					min: y_low,
					max: y_high,
					step: 10,
					slide: function( event, ui ) {
						var y = ui.value - (y_high/2);
						$('#trans2').attr('translation', '0 '+y+' 0');
						$('#texture2').attr('url', 'http://212.201.49.173:8080/earthlook-ras?query=for+tp+in+%28TP%29+return+encode%28+%28char%29%28+%28tp%5B+y%28'+ui.value+'%29%2C+t%28'+$( "#slider4" ).slider( "value" )+'%29+%5D+%2B+40%29*+2.5%29%2C+%22png%22+%29');
						$( "#y" ).text("Y " + ui.value );
					}
				});
				$( "#y" ).text("Y " + $( "#slider2" ).slider( "value" ) );
			});
			
			$(function() { //Z
				$( "#slider3" ).slider({
					value: z_low,
					min: z_low,
					max: z_high,
					step: 1,
					slide: function( event, ui ) {
						var z = ui.value - (z_high/2);
						$('#trans3').attr('translation', '0 0 '+ z);
						$('#texture3').attr('url', 'http://212.201.49.173:8080/earthlook-ras?query=for+tp+in+%28TP%29+return+encode%28+%28char%29%28+%28tp%5B+z%28'+ui.value+'%29%2C+t%28'+$( "#slider4" ).slider( "value" )+'%29+%5D+%2B+40%29*+2.5%29%2C+%22png%22+%29');
						$( "#z" ).text("Z " + ui.value );
					}
				});
				$( "#z" ).text("Z " + $( "#slider3" ).slider( "value" ) );
			});
			
			$(function() { //T
				$( "#slider4" ).slider({
					value: t_low,
					min: t_low,
					max: t_high,
					step: 1,
					slide: function( event, ui ) {
						$('#texture1').attr('url', 'http://212.201.49.173:8080/earthlook-ras?query=for+tp+in+%28TP%29+return+encode%28+%28char%29%28+%28tp%5B+x%28'+$( "#slider1" ).slider( "value" )+'%29%2C+t%28'+ui.value+'%29+%5D+%2B+40%29*+2.5%29%2C+%22png%22+%29');
						$('#texture2').attr('url', 'http://212.201.49.173:8080/earthlook-ras?query=for+tp+in+%28TP%29+return+encode%28+%28char%29%28+%28tp%5B+y%28'+$( "#slider2" ).slider( "value" )+'%29%2C+t%28'+ui.value+'%29+%5D+%2B+40%29*+2.5%29%2C+%22png%22+%29');
						$('#texture3').attr('url', 'http://212.201.49.173:8080/earthlook-ras?query=for+tp+in+%28TP%29+return+encode%28+%28char%29%28+%28tp%5B+z%28'+$( "#slider3" ).slider( "value" )+'%29%2C+t%28'+ui.value+'%29+%5D+%2B+40%29*+2.5%29%2C+%22png%22+%29');
						$( "#time" ).text("Time " + ui.value );
					}
				});
				$( "#time" ).text("Time " + $( "#slider4" ).slider( "value" ) );
			});
	});	
</script>
<style>
	body {
		font-size: 12px;
	}
	.slider_wrapper1, .slider_wrapper2, .slider_wrapper3, .slider_wrapper4 {
		padding: 10px;
		width: 200px;
		float: left;
	}
	#time, #x, #y, #z{
		color: #f6931f;
		font-weight: bold;
	}
</style>
</head>
<body>

     <div class="group">
         <X3D width="1000px" height="600px">
            <scene>
                <Background skyColor='0 0 0'></Background>
				<Viewpoint position="50 0 700"></Viewpoint>
				<Transform rotation='1 0 0 0.3'>
                <Transform rotation='0 1 0 -0.3'>
					<Shape>
						<Appearance>
						  <Material id="color" emissiveColor ="1 1 0"></Material>
						</Appearance>
						<IndexedLineSet colorPerVertex="false" coordIndex="0 1 2 3 0 -1 4 5 6 7 4 -1 0 4 -1 1 5 -1 2 6 -1 3 7 -1">
							<Coordinate id="boxpoint" />
						</IndexedLineSet>
                   </Shape>
                    
            
					<Transform id="trans1" rotation='0 1 0 1.57079'>
                        <shape>
                            <appearance>
                              <material diffuseColor='yellow'></material>
                              <imageTexture id="texture1" url='http://212.201.49.173:8080/earthlook-ras?query=for+tp+in+%28TP%29+return+encode%28+%28char%29%28+%28tp%5B+x%280%29%2C+t%280%29+%5D+%2B+40%29*+2.5%29%2C+%22png%22+%29'></imageTexture>
                            </appearance>
                            <Rectangle2D id="rectangle1" subdivision='1 1' ></Rectangle2D>
                          </shape>      
                    </Transform>
					<Transform id="trans2" rotation='1 0 0 1.57079'>
                        <shape>
                            <appearance>
                              <material diffuseColor='yellow'></material>
                               <imageTexture id="texture2" url='http://212.201.49.173:8080/earthlook-ras?query=for+tp+in+%28TP%29+return+encode%28+%28char%29%28+%28tp%5B+y%280%29%2C+t%280%29+%5D+%2B+40%29*+2.5%29%2C+%22png%22+%29'></imageTexture>
                            </appearance>
                            <Rectangle2D id="rectangle2" subdivision='1 1' ></Rectangle2D>
                          </shape>                               
                    </Transform>
					<Transform id="trans3">
                        <shape>
                            <appearance>
                              <material diffuseColor='yellow'></material>
                              <imageTexture id="texture3" url='http://212.201.49.173:8080/earthlook-ras?query=for+tp+in+%28TP%29+return+encode%28+%28char%29%28+%28tp%5B+z%280%29%2C+t%280%29+%5D+%2B+40%29*+2.5%29%2C+%22png%22+%29'></imageTexture>
                            </appearance>
                            <Rectangle2D id="rectangle3" subdivision='1 1' ></Rectangle2D>
                          </shape>   
                    </Transform>								
				</Transform>
                </Transform>
            </scene>
        </X3D>
    </div>  
	
	<div class="slider_wrapper1">
		<p id="x"></p>
		<div id="slider1"></div>
	</div>
          
     <div class="slider_wrapper2">
		<p id="y"></p>
     	<div id="slider2"></div>
     </div>
     <div class="slider_wrapper3">
		<p id="z"></p>
     	<div id="slider3"></div>
     </div>
     
	<div class="slider_wrapper4">
		<p id="time"></p>
		<div id="slider4"></div>
	</div>

</body>
</html>
